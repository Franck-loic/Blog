{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Blasus\\\\Desktop\\\\afpa\\\\ecf\\\\src\\\\Components\\\\Admin.js\";\nimport React, { Component } from 'react';\nimport Article from './Article';\nimport Edit from './Edit';\nimport Modal from 'react-modal';\nimport { FaPlus } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Admin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleRemove = index => {\n      console.group(index);\n      let removeArt = [...this.state.articles];\n      let supArt = removeArt.filter((v, id) => {\n        return id !== index;\n      });\n      this.setState({\n        articles: supArt\n      }, () => {\n        localStorage.setItem('articlesKey', JSON.stringify(this.state.articles));\n        console.log(this.state);\n      });\n    };\n\n    this.handleEdit = index => {\n      const aEdit = this.state.articles[index];\n      this.setState({\n        artChoose: aEdit,\n        indexArt: index,\n        editMod: true\n      });\n    };\n\n    this.modifArt = data => {\n      let artModif = [...this.state.articles];\n      artModif[this.state.indexArt] = data;\n      this.setState({\n        articles: artModif,\n        editMod: false\n      }, () => {\n        localStorage.setItem('articlesKey', JSON.stringify(this.state.articles));\n      });\n    };\n\n    this.state = {\n      articles: [{\n        id: 1,\n        image: \"slide2.jpg\",\n        auteur: \"Philippe Sainte-Laudy\",\n        date: \"2018\",\n        lien: \"https://www.naturephotographie.com/trouver-son-style-en-photographie/\",\n        titre: \"TROUVER ET TRAVAILLER SON STYLE EN PHOTOGRAPHIE\",\n        corps: \"Développer un style en photographie est l’un des aspects les plus passionnants et les plus gratifiants de la photographie. Pour beaucoup de photographes, il s’agit d’un processus continu et en constante évolution, influencé par de nombreux facteurs. Certains photographes trouvent un style unique qui leur convient, auquel ils s’attachent. D’autres peuvent développer deux styles dominants ou plus.\"\n      }, {\n        id: 2,\n        image: \"slide3.jpg\",\n        auteur: \"The Open Window\",\n        date: \"26 janvier 2017\",\n        lien: \"https://usbeketrica.com/fr/article/une-breve-histoire-de-l-art-video\",\n        titre: \"Une brève histoire de l’art vidéo\",\n        corps: \"Depuis sa naissance à l’orée des sixties, l’art vidéo s’est imposé comme l’un des langages artistiques les plus riches et protéiformes de la création contemporaine. Et à l’heure du tout image et de la démocratisation de l’art, il n’a, semble-t-il, rien perdu de sa pertinence.\"\n      }, {\n        id: 3,\n        image: \"slide4.jpg\",\n        auteur: \"Kokoroe\",\n        date: \"2017\",\n        lien: \"https://www.kokoroe.fr/list/blockchain/article/retouche-photo-ce-qu-il-faut-savoir-519\",\n        titre: \"Retouche photo : ce qu'il faut savoir !\",\n        corps: \"Vous prenez des milliers de photos : des paysages, des portraits, des scènes de vie… Tout ce que vous voyez est matière à s’imprimer ! Maintenant que vous regardez votre bibliothèque de photographie, vous êtes satisfait…\"\n      }],\n      artChoose: {\n        id: -1,\n        image: '',\n        auteur: '',\n        date: 0,\n        lien: '',\n        titre: '',\n        corps: ''\n      },\n      indexArt: -1,\n      editMod: false\n    };\n  }\n\n  componentDidMount() {\n    let articles1 = JSON.parse(localStorage.getItem('articlesKey'));\n\n    if (!articles1 || articles1.length === 0) {\n      localStorage.setItem('articlesKey', JSON.stringify(this.state.articles));\n      let recupArt = JSON.parse(localStorage.getItem('articlesKey'));\n      this.setState({\n        articles: recupArt\n      });\n    } else {\n      let articles2 = JSON.parse(localStorage.getItem('articlesKey'));\n      this.setState({\n        articles: articles2\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn bnt warning\",\n          children: /*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 67\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Article, {\n        articles: this.state.articles,\n        removeClick: this.handleRemove,\n        editClick: this.handleEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), this.state.editMod ? /*#__PURE__*/_jsxDEV(Edit, {\n        artReceive: this.state.artChoose,\n        edit: this.modifArt\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 14\n      }, this) : console.log(this.state.editMod)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Admin;","map":{"version":3,"sources":["C:/Users/Blasus/Desktop/afpa/ecf/src/Components/Admin.js"],"names":["React","Component","Article","Edit","Modal","FaPlus","Admin","constructor","props","handleRemove","index","console","group","removeArt","state","articles","supArt","filter","v","id","setState","localStorage","setItem","JSON","stringify","log","handleEdit","aEdit","artChoose","indexArt","editMod","modifArt","data","artModif","image","auteur","date","lien","titre","corps","componentDidMount","articles1","parse","getItem","length","recupArt","articles2","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Article from './Article';\r\nimport Edit from './Edit';\r\nimport Modal from 'react-modal';\r\nimport { FaPlus  } from \"react-icons/fa\"\r\nclass Admin extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            articles:[   {id:1, image:\"slide2.jpg\", auteur:\"Philippe Sainte-Laudy\", date: \"2018\", lien:\"https://www.naturephotographie.com/trouver-son-style-en-photographie/\", titre:\"TROUVER ET TRAVAILLER SON STYLE EN PHOTOGRAPHIE\", corps:\"Développer un style en photographie est l’un des aspects les plus passionnants et les plus gratifiants de la photographie. Pour beaucoup de photographes, il s’agit d’un processus continu et en constante évolution, influencé par de nombreux facteurs. Certains photographes trouvent un style unique qui leur convient, auquel ils s’attachent. D’autres peuvent développer deux styles dominants ou plus.\"},\r\n                        {id:2, image:\"slide3.jpg\", auteur:\"The Open Window\", date: \"26 janvier 2017\" , lien:\"https://usbeketrica.com/fr/article/une-breve-histoire-de-l-art-video\", titre:\"Une brève histoire de l’art vidéo\", corps:\"Depuis sa naissance à l’orée des sixties, l’art vidéo s’est imposé comme l’un des langages artistiques les plus riches et protéiformes de la création contemporaine. Et à l’heure du tout image et de la démocratisation de l’art, il n’a, semble-t-il, rien perdu de sa pertinence.\"},\r\n                        {id:3, image:\"slide4.jpg\", auteur:\"Kokoroe\", date:\"2017\", lien:\"https://www.kokoroe.fr/list/blockchain/article/retouche-photo-ce-qu-il-faut-savoir-519\", titre:\"Retouche photo : ce qu'il faut savoir !\", corps:\"Vous prenez des milliers de photos : des paysages, des portraits, des scènes de vie… Tout ce que vous voyez est matière à s’imprimer ! Maintenant que vous regardez votre bibliothèque de photographie, vous êtes satisfait…\"}\r\n            ],\r\n            artChoose:{id:-1, \r\n                image:'', \r\n                auteur:'', \r\n                date:0,\r\n                lien:'', \r\n                titre:'',\r\n                corps:''\r\n            },\r\n            indexArt:-1,\r\n            editMod:false\r\n         }\r\n    }\r\n    componentDidMount() {\r\n        let articles1= JSON.parse(localStorage.getItem('articlesKey'))\r\n        if(!articles1 || articles1.length === 0){\r\n            localStorage.setItem('articlesKey', JSON.stringify(this.state.articles));\r\n            let recupArt = JSON.parse(localStorage.getItem('articlesKey'));\r\n            this.setState({articles:recupArt});\r\n                   }else{\r\n            let articles2= JSON.parse(localStorage.getItem('articlesKey'));\r\n            this.setState({articles:articles2});\r\n        }\r\n    }\r\n    handleRemove =(index)=>{\r\n        console.group(index)\r\n        let removeArt=[...this.state.articles]\r\n        let supArt = removeArt.filter((v,id)=>{\r\n            return  id !== index\r\n        })\r\n        this.setState({articles:supArt},()=>{\r\n            localStorage.setItem('articlesKey', JSON.stringify(this.state.articles));\r\n            console.log(this.state);\r\n        })\r\n    }\r\n    handleEdit = (index)=>{\r\n        const aEdit = this.state.articles[index];\r\n        this.setState({artChoose:aEdit,indexArt:index,  editMod:true});\r\n        \r\n        \r\n    }\r\n    modifArt =(data)=>{\r\n        let artModif = [...this.state.articles]\r\n        artModif[this.state.indexArt] = data\r\n        this.setState({articles:artModif, editMod:false},()=>{\r\n            localStorage.setItem('articlesKey', JSON.stringify(this.state.articles));\r\n        })\r\n    }\r\n    render() { \r\n        return ( \r\n            <>\r\n            <div className=\"\">\r\n                <button type=\"button\" className=\"btn bnt warning\"><FaPlus/></button>\r\n            </div>\r\n            <Article articles = {this.state.articles} removeClick ={this.handleRemove} editClick={this.handleEdit}/>\r\n            {(this.state.editMod)\r\n            ?<Edit artReceive={this.state.artChoose} edit={this.modifArt} />\r\n            :console.log(this.state.editMod)\r\n            }\r\n            </>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Admin;\r\n"]},"metadata":{},"sourceType":"module"}