{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Blasus\\\\Desktop\\\\afpa\\\\Blog\\\\src\\\\Components\\\\Admin.js\";\nimport React, { Component } from 'react';\nimport Article from './Article';\nimport Edit from './Edit';\nimport { Modal } from 'react-bootstrap';\nimport { FaPlus } from \"react-icons/fa\";\nimport Ajout from './Ajout';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Admin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleRemove = index => {\n      console.group(index);\n      let removeArt = [...this.state.articles];\n      let supArt = removeArt.filter((a, id) => {\n        return id !== index;\n      });\n      this.setState({\n        articles: supArt\n      }, () => {\n        localStorage.setItem('articlesKey', JSON.stringify(this.state.articles));\n        localStorage.setItem('articlesAdd', JSON.stringify(this.state.articles));\n        console.log(this.state);\n      });\n    };\n\n    this.handleEdit = index => {\n      const aEdit = this.state.articles[index];\n      this.setState({\n        artChoose: aEdit,\n        indexArt: index,\n        editMod: true\n      });\n    };\n\n    this.modifArt = data => {\n      let artModif = [...this.state.articles];\n      artModif[this.state.indexArt] = data;\n      this.setState({\n        articles: artModif,\n        editMod: false\n      }, () => {\n        localStorage.setItem('articlesKey', JSON.stringify(this.state.articles));\n      });\n    };\n\n    this.handleAdd = data => {\n      let addArt = [...this.state.articles];\n      data.id = this.state.articles[this.state.articles.length - 1].id + 1;\n      addArt.push(data);\n      this.setState({\n        articles: addArt,\n        editMod: false\n      }, () => {\n        localStorage.setItem('articlesAdd', JSON.stringify(this.state.articles));\n      });\n      console.log(this.state.articles);\n    };\n\n    this.addClick = () => {\n      this.setState({\n        addMod: true\n      });\n    };\n\n    this.handlePublish = index => {\n      const publi = JSON.parse(localStorage.getItem('articlesKey'));\n      publi.push(this.state.articles[index]);\n      localStorage.setItem('articlesKey', JSON.stringify(publi));\n      toast('Vous avez publié un article avec succes!');\n    };\n\n    this.handleHide = index => {\n      const artavant = [...this.state.articles];\n      const supMove = artavant.filter((a, id) => {\n        return id !== index;\n      });\n      a;\n      let artMove = supMove;\n      this.setState({\n        articles: supMove\n      });\n      console.log(artavant[index]);\n      const artChoice = JSON.parse(localStorage.getItem('articlesKey'));\n      const hide = artChoice.filter((a, id) => {\n        return id !== index;\n      });\n      localStorage.setItem('articlesKey', JSON.stringify(hide));\n      toast('Vous avez caché un article avec succes!');\n    };\n\n    this.state = {\n      articles: [{\n        id: 1,\n        image: \"slide2.jpg\",\n        auteur: \"Philippe Sainte-Laudy\",\n        date: \"2018\",\n        lien: \"https://www.naturephotographie.com/trouver-son-style-en-photographie/\",\n        titre: \"TROUVER ET TRAVAILLER SON STYLE EN PHOTOGRAPHIE\",\n        corps: \"Développer un style en photographie est l’un des aspects les plus passionnants et les plus gratifiants de la photographie. Pour beaucoup de photographes, il s’agit d’un processus continu et en constante évolution, influencé par de nombreux facteurs. Certains photographes trouvent un style unique qui leur convient, auquel ils s’attachent. D’autres peuvent développer deux styles dominants ou plus.\"\n      }, {\n        id: 2,\n        image: \"slide3.jpg\",\n        auteur: \"The Open Window\",\n        date: \"26 janvier 2017\",\n        lien: \"https://usbeketrica.com/fr/article/une-breve-histoire-de-l-art-video\",\n        titre: \"Une brève histoire de l’art vidéo\",\n        corps: \"Depuis sa naissance à l’orée des sixties, l’art vidéo s’est imposé comme l’un des langages artistiques les plus riches et protéiformes de la création contemporaine. Et à l’heure du tout image et de la démocratisation de l’art, il n’a, semble-t-il, rien perdu de sa pertinence.\"\n      }, {\n        id: 3,\n        image: \"slide4.jpg\",\n        auteur: \"Kokoroe\",\n        date: \"2017\",\n        lien: \"https://www.kokoroe.fr/list/blockchain/article/retouche-photo-ce-qu-il-faut-savoir-519\",\n        titre: \"Retouche photo : ce qu'il faut savoir !\",\n        corps: \"Vous prenez des milliers de photos : des paysages, des portraits, des scènes de vie… Tout ce que vous voyez est matière à s’imprimer ! Maintenant que vous regardez votre bibliothèque de photographie, vous êtes satisfait…\"\n      }],\n      artChoose: {\n        id: -1,\n        image: '',\n        auteur: '',\n        date: 0,\n        lien: '',\n        titre: '',\n        corps: ''\n      },\n      indexArt: -1,\n      editMod: false,\n      addMod: false,\n      titre: \"Administration\"\n    };\n  }\n\n  componentDidMount() {\n    const titre = this.state.titre;\n    this.props.give(titre);\n    let articles1 = this.state.article;\n    let articlesadd = JSON.parse(localStorage.getItem('articlesAdd'));\n    localStorage.setItem('articlesAdd', JSON.stringify(this.state.articles));\n\n    if (!articles1 || articles1.length === 0) {\n      localStorage.setItem('articlesAdd', JSON.stringify(this.state.articles));\n      localStorage.setItem('articlesKey', JSON.stringify(this.state.articles));\n      let recupArt = JSON.parse(localStorage.getItem('articlesKey'));\n      this.setState({\n        articles: recupArt\n      });\n    } else {\n      let articles2 = JSON.parse(localStorage.getItem('articlesAdd'));\n      this.setState({\n        articles: articles2\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    console.log(this.state.articles);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-end bg-light p-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: this.addClick,\n          className: \"button me-4 btn-warning fw-bolder \",\n          children: [/*#__PURE__*/_jsxDEV(FaPlus, {\n            className: \"\",\n            size: 30\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 107\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0 \",\n            children: \" Ajouter \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 139\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Article, {\n        articles: this.state.articles,\n        removeClick: this.handleRemove,\n        editClick: this.handleEdit,\n        publishClick: this.handlePublish,\n        hideClick: this.handleHide\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.editMod,\n        className: \" \",\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          className: \"h4 bg-secondary d-flex justify-content-center \",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0 text-white\",\n            children: \"Formulaire d'\\xE9dition\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 86\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          className: \" bg-light text-center fst-italic fw-bold\",\n          children: /*#__PURE__*/_jsxDEV(Edit, {\n            artReceive: this.state.artChoose,\n            edit: this.modifArt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.addMod,\n        className: \" \",\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          className: \"h4 bg-secondary d-flex justify-content-center \",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0 text-white\",\n            children: \"Formulaire d'ajout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 86\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          className: \" bg-light text-center fst-italic fw-bold\",\n          children: /*#__PURE__*/_jsxDEV(Ajout, {\n            update: this.handleAdd\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Admin;","map":{"version":3,"sources":["C:/Users/Blasus/Desktop/afpa/Blog/src/Components/Admin.js"],"names":["React","Component","Article","Edit","Modal","FaPlus","Ajout","ToastContainer","toast","Admin","constructor","props","handleRemove","index","console","group","removeArt","state","articles","supArt","filter","a","id","setState","localStorage","setItem","JSON","stringify","log","handleEdit","aEdit","artChoose","indexArt","editMod","modifArt","data","artModif","handleAdd","addArt","length","push","addClick","addMod","handlePublish","publi","parse","getItem","handleHide","artavant","supMove","artMove","artChoice","hide","image","auteur","date","lien","titre","corps","componentDidMount","give","articles1","article","articlesadd","recupArt","articles2","componentDidUpdate","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAAQC,KAAR,QAAoB,iBAApB;AACA,SAASC,MAAT,QAAwB,gBAAxB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAO,uCAAP;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;;;;AAEA,MAAMC,KAAN,SAAoBR,SAApB,CAA8B;AAC1BS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA2CnBC,YA3CmB,GA2CJC,KAAD,IAAS;AACnBC,MAAAA,OAAO,CAACC,KAAR,CAAcF,KAAd;AACA,UAAIG,SAAS,GAAC,CAAC,GAAG,KAAKC,KAAL,CAAWC,QAAf,CAAd;AACA,UAAIC,MAAM,GAAGH,SAAS,CAACI,MAAV,CAAiB,CAACC,CAAD,EAAGC,EAAH,KAAQ;AAClC,eAAQA,EAAE,KAAKT,KAAf;AACH,OAFY,CAAb;AAGA,WAAKU,QAAL,CAAc;AAACL,QAAAA,QAAQ,EAACC;AAAV,OAAd,EAAgC,MAAI;AAChCK,QAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAe,KAAKV,KAAL,CAAWC,QAA1B,CAApC;AACAM,QAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAe,KAAKV,KAAL,CAAWC,QAA1B,CAApC;AACAJ,QAAAA,OAAO,CAACc,GAAR,CAAY,KAAKX,KAAjB;AACH,OAJD;AAKH,KAtDkB;;AAAA,SAuDnBY,UAvDmB,GAuDLhB,KAAD,IAAS;AAClB,YAAMiB,KAAK,GAAG,KAAKb,KAAL,CAAWC,QAAX,CAAoBL,KAApB,CAAd;AACA,WAAKU,QAAL,CAAc;AAACQ,QAAAA,SAAS,EAACD,KAAX;AAAiBE,QAAAA,QAAQ,EAACnB,KAA1B;AAAkCoB,QAAAA,OAAO,EAAC;AAA1C,OAAd;AAGH,KA5DkB;;AAAA,SA6DnBC,QA7DmB,GA6DRC,IAAD,IAAQ;AACd,UAAIC,QAAQ,GAAG,CAAC,GAAG,KAAKnB,KAAL,CAAWC,QAAf,CAAf;AACAkB,MAAAA,QAAQ,CAAC,KAAKnB,KAAL,CAAWe,QAAZ,CAAR,GAAgCG,IAAhC;AACA,WAAKZ,QAAL,CAAc;AAACL,QAAAA,QAAQ,EAACkB,QAAV;AAAoBH,QAAAA,OAAO,EAAC;AAA5B,OAAd,EAAiD,MAAI;AACjDT,QAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAe,KAAKV,KAAL,CAAWC,QAA1B,CAApC;AACH,OAFD;AAGH,KAnEkB;;AAAA,SAoEnBmB,SApEmB,GAoEPF,IAAD,IAAQ;AACf,UAAIG,MAAM,GAAG,CAAC,GAAG,KAAKrB,KAAL,CAAWC,QAAf,CAAb;AACAiB,MAAAA,IAAI,CAACb,EAAL,GAAU,KAAKL,KAAL,CAAWC,QAAX,CAAoB,KAAKD,KAAL,CAAWC,QAAX,CAAoBqB,MAApB,GAA4B,CAAhD,EAAmDjB,EAAnD,GAAuD,CAAjE;AACAgB,MAAAA,MAAM,CAACE,IAAP,CAAYL,IAAZ;AACA,WAAKZ,QAAL,CAAc;AAACL,QAAAA,QAAQ,EAACoB,MAAV;AAAkBL,QAAAA,OAAO,EAAC;AAA1B,OAAd,EAA+C,MAAI;AAC/CT,QAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAe,KAAKV,KAAL,CAAWC,QAA1B,CAApC;AACH,OAFD;AAGAJ,MAAAA,OAAO,CAACc,GAAR,CAAY,KAAKX,KAAL,CAAWC,QAAvB;AACH,KA5EkB;;AAAA,SA6EnBuB,QA7EmB,GA6ET,MAAI;AACV,WAAKlB,QAAL,CAAc;AAACmB,QAAAA,MAAM,EAAC;AAAR,OAAd;AACH,KA/EkB;;AAAA,SAgFnBC,aAhFmB,GAgFF9B,KAAD,IAAS;AACrB,YAAM+B,KAAK,GAAGlB,IAAI,CAACmB,KAAL,CAAWrB,YAAY,CAACsB,OAAb,CAAqB,aAArB,CAAX,CAAd;AACAF,MAAAA,KAAK,CAACJ,IAAN,CAAW,KAAKvB,KAAL,CAAWC,QAAX,CAAoBL,KAApB,CAAX;AACAW,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAmCC,IAAI,CAACC,SAAL,CAAeiB,KAAf,CAAnC;AACApC,MAAAA,KAAK,CAAC,0CAAD,CAAL;AAEH,KAtFkB;;AAAA,SAuFpBuC,UAvFoB,GAuFNlC,KAAD,IAAS;AACrB,YAAMmC,QAAQ,GAAG,CAAC,GAAG,KAAK/B,KAAL,CAAWC,QAAf,CAAjB;AACA,YAAM+B,OAAO,GAAGD,QAAQ,CAAC5B,MAAT,CAAgB,CAACC,CAAD,EAAGC,EAAH,KAAQ;AACpC,eAAQA,EAAE,KAAKT,KAAf;AACH,OAFe,CAAhB;AAGAQ,MAAAA,CAAC;AACD,UAAI6B,OAAO,GAAGD,OAAd;AAEA,WAAK1B,QAAL,CAAc;AAACL,QAAAA,QAAQ,EAAC+B;AAAV,OAAd;AACAnC,MAAAA,OAAO,CAACc,GAAR,CAAYoB,QAAQ,CAACnC,KAAD,CAApB;AAEA,YAAMsC,SAAS,GAAGzB,IAAI,CAACmB,KAAL,CAAWrB,YAAY,CAACsB,OAAb,CAAqB,aAArB,CAAX,CAAlB;AACA,YAAMM,IAAI,GAAGD,SAAS,CAAC/B,MAAV,CAAiB,CAACC,CAAD,EAAGC,EAAH,KAAQ;AAClC,eAAQA,EAAE,KAAKT,KAAf;AACH,OAFY,CAAb;AAGAW,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAmCC,IAAI,CAACC,SAAL,CAAeyB,IAAf,CAAnC;AACA5C,MAAAA,KAAK,CAAC,yCAAD,CAAL;AAEA,KAzGmB;;AAEf,SAAKS,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAC,CAAG;AAACI,QAAAA,EAAE,EAAC,CAAJ;AAAO+B,QAAAA,KAAK,EAAC,YAAb;AAA2BC,QAAAA,MAAM,EAAC,uBAAlC;AAA2DC,QAAAA,IAAI,EAAE,MAAjE;AAAyEC,QAAAA,IAAI,EAAC,uEAA9E;AAAuJC,QAAAA,KAAK,EAAC,iDAA7J;AAAgNC,QAAAA,KAAK,EAAC;AAAtN,OAAH,EACG;AAACpC,QAAAA,EAAE,EAAC,CAAJ;AAAO+B,QAAAA,KAAK,EAAC,YAAb;AAA2BC,QAAAA,MAAM,EAAC,iBAAlC;AAAqDC,QAAAA,IAAI,EAAE,iBAA3D;AAA+EC,QAAAA,IAAI,EAAC,sEAApF;AAA4JC,QAAAA,KAAK,EAAC,mCAAlK;AAAuMC,QAAAA,KAAK,EAAC;AAA7M,OADH,EAEG;AAACpC,QAAAA,EAAE,EAAC,CAAJ;AAAO+B,QAAAA,KAAK,EAAC,YAAb;AAA2BC,QAAAA,MAAM,EAAC,SAAlC;AAA6CC,QAAAA,IAAI,EAAC,MAAlD;AAA0DC,QAAAA,IAAI,EAAC,wFAA/D;AAAyJC,QAAAA,KAAK,EAAC,yCAA/J;AAA0MC,QAAAA,KAAK,EAAC;AAAhN,OAFH,CADA;AAKT3B,MAAAA,SAAS,EAAC;AAACT,QAAAA,EAAE,EAAC,CAAC,CAAL;AACN+B,QAAAA,KAAK,EAAC,EADA;AAENC,QAAAA,MAAM,EAAC,EAFD;AAGNC,QAAAA,IAAI,EAAC,CAHC;AAINC,QAAAA,IAAI,EAAC,EAJC;AAKNC,QAAAA,KAAK,EAAC,EALA;AAMNC,QAAAA,KAAK,EAAC;AANA,OALD;AAaT1B,MAAAA,QAAQ,EAAC,CAAC,CAbD;AAcTC,MAAAA,OAAO,EAAC,KAdC;AAeTS,MAAAA,MAAM,EAAC,KAfE;AAgBTe,MAAAA,KAAK,EAAE;AAhBE,KAAb;AAmBH;;AACDE,EAAAA,iBAAiB,GAAG;AAChB,UAAMF,KAAK,GAAG,KAAKxC,KAAL,CAAWwC,KAAzB;AACA,SAAK9C,KAAL,CAAWiD,IAAX,CAAgBH,KAAhB;AACA,QAAII,SAAS,GAAE,KAAK5C,KAAL,CAAW6C,OAA1B;AACA,QAAIC,WAAW,GAAGrC,IAAI,CAACmB,KAAL,CAAWrB,YAAY,CAACsB,OAAb,CAAqB,aAArB,CAAX,CAAlB;AACAtB,IAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAe,KAAKV,KAAL,CAAWC,QAA1B,CAApC;;AAEA,QAAG,CAAC2C,SAAD,IAAcA,SAAS,CAACtB,MAAV,KAAqB,CAAtC,EAAwC;AACpCf,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAe,KAAKV,KAAL,CAAWC,QAA1B,CAApC;AACAM,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAe,KAAKV,KAAL,CAAWC,QAA1B,CAApC;AACA,UAAI8C,QAAQ,GAAGtC,IAAI,CAACmB,KAAL,CAAWrB,YAAY,CAACsB,OAAb,CAAqB,aAArB,CAAX,CAAf;AACA,WAAKvB,QAAL,CAAc;AAACL,QAAAA,QAAQ,EAAC8C;AAAV,OAAd;AACQ,KALZ,MAKgB;AACZ,UAAIC,SAAS,GAAEvC,IAAI,CAACmB,KAAL,CAAWrB,YAAY,CAACsB,OAAb,CAAqB,aAArB,CAAX,CAAf;AACA,WAAKvB,QAAL,CAAc;AAACL,QAAAA,QAAQ,EAAC+C;AAAV,OAAd;AAEH;AACJ;;AACDC,EAAAA,kBAAkB,GAAE;AAChBpD,IAAAA,OAAO,CAACc,GAAR,CAAY,KAAKX,KAAL,CAAWC,QAAvB;AACH;;AAiEDiD,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACA;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA,+BACA;AAAS,UAAA,IAAI,EAAC,QAAd;AAAuB,UAAA,OAAO,EAAE,KAAK1B,QAArC;AAA+C,UAAA,SAAS,EAAC,oCAAzD;AAAA,kCAA8F,QAAC,MAAD;AAAQ,YAAA,SAAS,EAAC,EAAlB;AAAqB,YAAA,IAAI,EAAE;AAA3B;AAAA;AAAA;AAAA;AAAA,kBAA9F,eAA8H;AAAI,YAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA9H;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cADA,eAIA,QAAC,OAAD;AAAS,QAAA,QAAQ,EAAI,KAAKxB,KAAL,CAAWC,QAAhC;AAA0C,QAAA,WAAW,EAAI,KAAKN,YAA9D;AAA4E,QAAA,SAAS,EAAE,KAAKiB,UAA5F;AAAwG,QAAA,YAAY,EAAG,KAAKc,aAA5H;AAA2I,QAAA,SAAS,EAAG,KAAKI;AAA5J;AAAA;AAAA;AAAA;AAAA,cAJA,eAMA,QAAC,KAAD;AAAO,QAAA,IAAI,EAAE,KAAK9B,KAAL,CAAWgB,OAAxB;AAAiC,QAAA,SAAS,EAAC,GAA3C;AAAA,gCACA,QAAC,KAAD,CAAO,MAAP;AAAc,UAAA,SAAS,EAAC,gDAAxB;AAAA,iCAAyE;AAAG,YAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzE;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA,QAAC,KAAD,CAAO,IAAP;AAAY,UAAA,SAAS,EAAC,0CAAtB;AAAA,iCACA,QAAC,IAAD;AAAM,YAAA,UAAU,EAAE,KAAKhB,KAAL,CAAWc,SAA7B;AAAwC,YAAA,IAAI,EAAE,KAAKG;AAAnD;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,cANA,eAaA,QAAC,KAAD;AAAO,QAAA,IAAI,EAAE,KAAKjB,KAAL,CAAWyB,MAAxB;AAAgC,QAAA,SAAS,EAAC,GAA1C;AAAA,gCACA,QAAC,KAAD,CAAO,MAAP;AAAc,UAAA,SAAS,EAAC,gDAAxB;AAAA,iCAAyE;AAAG,YAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzE;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA,QAAC,KAAD,CAAO,IAAP;AAAY,UAAA,SAAS,EAAC,0CAAtB;AAAA,iCACA,QAAC,KAAD;AAAO,YAAA,MAAM,EAAE,KAAKL;AAApB;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbA,eAmBA,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,cAnBA;AAAA,oBADJ;AAuBH;;AApIyB;;AAuI9B,eAAe5B,KAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Article from './Article';\r\nimport Edit from './Edit';\r\nimport {Modal} from 'react-bootstrap';\r\nimport { FaPlus  } from \"react-icons/fa\"\r\nimport Ajout from './Ajout';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nclass Admin extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            articles:[  {id:1, image:\"slide2.jpg\", auteur:\"Philippe Sainte-Laudy\", date: \"2018\", lien:\"https://www.naturephotographie.com/trouver-son-style-en-photographie/\", titre:\"TROUVER ET TRAVAILLER SON STYLE EN PHOTOGRAPHIE\", corps:\"Développer un style en photographie est l’un des aspects les plus passionnants et les plus gratifiants de la photographie. Pour beaucoup de photographes, il s’agit d’un processus continu et en constante évolution, influencé par de nombreux facteurs. Certains photographes trouvent un style unique qui leur convient, auquel ils s’attachent. D’autres peuvent développer deux styles dominants ou plus.\"},\r\n                        {id:2, image:\"slide3.jpg\", auteur:\"The Open Window\", date: \"26 janvier 2017\" , lien:\"https://usbeketrica.com/fr/article/une-breve-histoire-de-l-art-video\", titre:\"Une brève histoire de l’art vidéo\", corps:\"Depuis sa naissance à l’orée des sixties, l’art vidéo s’est imposé comme l’un des langages artistiques les plus riches et protéiformes de la création contemporaine. Et à l’heure du tout image et de la démocratisation de l’art, il n’a, semble-t-il, rien perdu de sa pertinence.\"},\r\n                        {id:3, image:\"slide4.jpg\", auteur:\"Kokoroe\", date:\"2017\", lien:\"https://www.kokoroe.fr/list/blockchain/article/retouche-photo-ce-qu-il-faut-savoir-519\", titre:\"Retouche photo : ce qu'il faut savoir !\", corps:\"Vous prenez des milliers de photos : des paysages, des portraits, des scènes de vie… Tout ce que vous voyez est matière à s’imprimer ! Maintenant que vous regardez votre bibliothèque de photographie, vous êtes satisfait…\"}\r\n            ],\r\n            artChoose:{id:-1, \r\n                image:'', \r\n                auteur:'', \r\n                date:0,\r\n                lien:'', \r\n                titre:'',\r\n                corps:''\r\n            },\r\n            indexArt:-1,\r\n            editMod:false,\r\n            addMod:false,\r\n            titre: \"Administration\"\r\n          \r\n         }\r\n    }\r\n    componentDidMount() {\r\n        const titre = this.state.titre\r\n        this.props.give(titre)\r\n        let articles1= this.state.article\r\n        let articlesadd = JSON.parse(localStorage.getItem('articlesAdd'));\r\n        localStorage.setItem('articlesAdd', JSON.stringify(this.state.articles));\r\n\r\n        if(!articles1 || articles1.length === 0){\r\n            localStorage.setItem('articlesAdd', JSON.stringify(this.state.articles));\r\n            localStorage.setItem('articlesKey', JSON.stringify(this.state.articles));\r\n            let recupArt = JSON.parse(localStorage.getItem('articlesKey'));\r\n            this.setState({articles:recupArt});\r\n                   }else{\r\n            let articles2= JSON.parse(localStorage.getItem('articlesAdd'));\r\n            this.setState({articles:articles2});\r\n            \r\n        }\r\n    }\r\n    componentDidUpdate(){\r\n        console.log(this.state.articles)\r\n    }\r\n    handleRemove =(index)=>{\r\n        console.group(index)\r\n        let removeArt=[...this.state.articles]\r\n        let supArt = removeArt.filter((a,id)=>{\r\n            return  id !== index\r\n        })\r\n        this.setState({articles:supArt},()=>{\r\n            localStorage.setItem('articlesKey', JSON.stringify(this.state.articles));\r\n            localStorage.setItem('articlesAdd', JSON.stringify(this.state.articles))\r\n            console.log(this.state);\r\n        })\r\n    }\r\n    handleEdit = (index)=>{\r\n        const aEdit = this.state.articles[index];\r\n        this.setState({artChoose:aEdit,indexArt:index,  editMod:true});\r\n        \r\n        \r\n    }\r\n    modifArt =(data)=>{\r\n        let artModif = [...this.state.articles]\r\n        artModif[this.state.indexArt] = data\r\n        this.setState({articles:artModif, editMod:false},()=>{\r\n            localStorage.setItem('articlesKey', JSON.stringify(this.state.articles));\r\n        })\r\n    }\r\n    handleAdd =(data)=>{\r\n        let addArt = [...this.state.articles]\r\n        data.id = this.state.articles[this.state.articles.length -1].id +1\r\n        addArt.push(data)\r\n        this.setState({articles:addArt, editMod:false},()=>{\r\n            localStorage.setItem('articlesAdd', JSON.stringify(this.state.articles));\r\n        })\r\n        console.log(this.state.articles);\r\n    }\r\n    addClick= ()=>{\r\n        this.setState({addMod:true});\r\n    }\r\n    handlePublish = (index)=>{\r\n        const publi = JSON.parse(localStorage.getItem('articlesKey'));\r\n        publi.push(this.state.articles[index]);\r\n        localStorage.setItem('articlesKey',JSON.stringify(publi));\r\n        toast('Vous avez publié un article avec succes!');\r\n        \r\n    }\r\n   handleHide = (index)=>{\r\n    const artavant = [...this.state.articles];\r\n    const supMove = artavant.filter((a,id)=>{\r\n        return  id !== index\r\n    });\r\n    a\r\n    let artMove = supMove\r\n    \r\n    this.setState({articles:supMove})\r\n    console.log(artavant[index])\r\n\r\n    const artChoice = JSON.parse(localStorage.getItem('articlesKey'));\r\n    const hide = artChoice.filter((a,id)=>{\r\n        return  id !== index\r\n    });\r\n    localStorage.setItem('articlesKey',JSON.stringify(hide));\r\n    toast('Vous avez caché un article avec succes!');\r\n\r\n   }\r\n\r\n    render() { \r\n        return ( \r\n            <>\r\n            <div className=\"text-end bg-light p-3\">\r\n            <button  type=\"button\" onClick={this.addClick} className=\"button me-4 btn-warning fw-bolder \"><FaPlus className=\"\" size={30}/><p  className=\"mb-0 \"> Ajouter </p></button>\r\n            </div>\r\n            <Article articles = {this.state.articles} removeClick = {this.handleRemove} editClick={this.handleEdit} publishClick ={this.handlePublish} hideClick ={this.handleHide}/>\r\n            \r\n            <Modal show={this.state.editMod} className=\" \">\r\n            <Modal.Header className=\"h4 bg-secondary d-flex justify-content-center \"><p className=\"mb-0 text-white\">Formulaire d'édition</p></Modal.Header>  \r\n            <Modal.Body className=\" bg-light text-center fst-italic fw-bold\">\r\n            <Edit artReceive={this.state.artChoose} edit={this.modifArt} />\r\n            </Modal.Body>\r\n            </Modal>\r\n\r\n            <Modal show={this.state.addMod} className=\" \">\r\n            <Modal.Header className=\"h4 bg-secondary d-flex justify-content-center \"><p className=\"mb-0 text-white\">Formulaire d'ajout</p></Modal.Header>  \r\n            <Modal.Body className=\" bg-light text-center fst-italic fw-bold\">\r\n            <Ajout update={this.handleAdd}/>\r\n            </Modal.Body>\r\n            </Modal>\r\n            <ToastContainer/>\r\n            </>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Admin;\r\n"]},"metadata":{},"sourceType":"module"}