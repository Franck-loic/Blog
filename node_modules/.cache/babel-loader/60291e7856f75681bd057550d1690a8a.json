{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeStyles;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _jss = require(\"jss\");\n\nvar _mergeClasses = _interopRequireDefault(require(\"../mergeClasses\"));\n\nvar _multiKeyStore = _interopRequireDefault(require(\"./multiKeyStore\"));\n\nvar _useTheme = _interopRequireDefault(require(\"../useTheme\"));\n\nvar _StylesProvider = require(\"../StylesProvider\");\n\nvar _indexCounter = require(\"./indexCounter\");\n\nvar _getStylesCreator = _interopRequireDefault(require(\"../getStylesCreator\"));\n\nvar _noopTheme = _interopRequireDefault(require(\"../getStylesCreator/noopTheme\"));\n\nfunction getClasses(_ref, classes, Component) {\n  var state = _ref.state,\n      stylesOptions = _ref.stylesOptions;\n\n  if (stylesOptions.disableGeneration) {\n    return classes || {};\n  }\n\n  if (!state.cacheClasses) {\n    state.cacheClasses = {\n      // Cache for the finalized classes value.\n      value: null,\n      // Cache for the last used classes prop pointer.\n      lastProp: null,\n      // Cache for the last used rendered classes pointer.\n      lastJSS: {}\n    };\n  } // Tracks if either the rendered classes or classes prop has changed,\n  // requiring the generation of a new finalized classes object.\n\n\n  var generate = false;\n\n  if (state.classes !== state.cacheClasses.lastJSS) {\n    state.cacheClasses.lastJSS = state.classes;\n    generate = true;\n  }\n\n  if (classes !== state.cacheClasses.lastProp) {\n    state.cacheClasses.lastProp = classes;\n    generate = true;\n  }\n\n  if (generate) {\n    state.cacheClasses.value = (0, _mergeClasses.default)({\n      baseClasses: state.cacheClasses.lastJSS,\n      newClasses: classes,\n      Component: Component\n    });\n  }\n\n  return state.cacheClasses.value;\n}\n\nfunction attach(_ref2, props) {\n  var state = _ref2.state,\n      theme = _ref2.theme,\n      stylesOptions = _ref2.stylesOptions,\n      stylesCreator = _ref2.stylesCreator,\n      name = _ref2.name;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = _multiKeyStore.default.get(stylesOptions.sheetsManager, stylesCreator, theme);\n\n  if (!sheetManager) {\n    sheetManager = {\n      refs: 0,\n      staticSheet: null,\n      dynamicStyles: null\n    };\n\n    _multiKeyStore.default.set(stylesOptions.sheetsManager, stylesCreator, theme, sheetManager);\n  }\n\n  var options = (0, _extends2.default)({}, stylesCreator.options, stylesOptions, {\n    theme: theme,\n    flip: typeof stylesOptions.flip === 'boolean' ? stylesOptions.flip : theme.direction === 'rtl'\n  });\n  options.generateId = options.serverGenerateClassName || options.generateClassName;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    var staticSheet;\n\n    if (stylesOptions.sheetsCache) {\n      staticSheet = _multiKeyStore.default.get(stylesOptions.sheetsCache, stylesCreator, theme);\n    }\n\n    var styles = stylesCreator.create(theme, name);\n\n    if (!staticSheet) {\n      staticSheet = stylesOptions.jss.createStyleSheet(styles, (0, _extends2.default)({\n        link: false\n      }, options));\n      staticSheet.attach();\n\n      if (stylesOptions.sheetsCache) {\n        _multiKeyStore.default.set(stylesOptions.sheetsCache, stylesCreator, theme, staticSheet);\n      }\n    }\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(staticSheet);\n    }\n\n    sheetManager.staticSheet = staticSheet;\n    sheetManager.dynamicStyles = (0, _jss.getDynamicStyles)(styles);\n  }\n\n  if (sheetManager.dynamicStyles) {\n    var dynamicSheet = stylesOptions.jss.createStyleSheet(sheetManager.dynamicStyles, (0, _extends2.default)({\n      link: true\n    }, options));\n    dynamicSheet.update(props);\n    dynamicSheet.attach();\n    state.dynamicSheet = dynamicSheet;\n    state.classes = (0, _mergeClasses.default)({\n      baseClasses: sheetManager.staticSheet.classes,\n      newClasses: dynamicSheet.classes\n    });\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(dynamicSheet);\n    }\n  } else {\n    state.classes = sheetManager.staticSheet.classes;\n  }\n\n  sheetManager.refs += 1;\n}\n\nfunction update(_ref3, props) {\n  var state = _ref3.state;\n\n  if (state.dynamicSheet) {\n    state.dynamicSheet.update(props);\n  }\n}\n\nfunction detach(_ref4) {\n  var state = _ref4.state,\n      theme = _ref4.theme,\n      stylesOptions = _ref4.stylesOptions,\n      stylesCreator = _ref4.stylesCreator;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = _multiKeyStore.default.get(stylesOptions.sheetsManager, stylesCreator, theme);\n\n  sheetManager.refs -= 1;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    _multiKeyStore.default.delete(stylesOptions.sheetsManager, stylesCreator, theme);\n\n    stylesOptions.jss.removeStyleSheet(sheetManager.staticSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(sheetManager.staticSheet);\n    }\n  }\n\n  if (state.dynamicSheet) {\n    stylesOptions.jss.removeStyleSheet(state.dynamicSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(state.dynamicSheet);\n    }\n  }\n}\n\nfunction useSynchronousEffect(func, values) {\n  var key = _react.default.useRef([]);\n\n  var output; // Store \"generation\" key. Just returns a new object every time\n\n  var currentKey = _react.default.useMemo(function () {\n    return {};\n  }, values); // eslint-disable-line react-hooks/exhaustive-deps\n  // \"the first render\", or \"memo dropped the value\"\n\n\n  if (key.current !== currentKey) {\n    key.current = currentKey;\n    output = func();\n  }\n\n  _react.default.useEffect(function () {\n    return function () {\n      if (output) {\n        output();\n      }\n    };\n  }, [currentKey] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n}\n\nfunction makeStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var name = options.name,\n      classNamePrefixOption = options.classNamePrefix,\n      Component = options.Component,\n      _options$defaultTheme = options.defaultTheme,\n      defaultTheme = _options$defaultTheme === void 0 ? _noopTheme.default : _options$defaultTheme,\n      stylesOptions2 = (0, _objectWithoutProperties2.default)(options, [\"name\", \"classNamePrefix\", \"Component\", \"defaultTheme\"]);\n  var stylesCreator = (0, _getStylesCreator.default)(stylesOrCreator);\n  var classNamePrefix = name || classNamePrefixOption || 'makeStyles';\n  stylesCreator.options = {\n    index: (0, _indexCounter.increment)(),\n    name: name,\n    meta: classNamePrefix,\n    classNamePrefix: classNamePrefix\n  };\n\n  var useStyles = function useStyles() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var theme = (0, _useTheme.default)() || defaultTheme;\n    var stylesOptions = (0, _extends2.default)({}, _react.default.useContext(_StylesProvider.StylesContext), stylesOptions2);\n\n    var instance = _react.default.useRef();\n\n    var shouldUpdate = _react.default.useRef();\n\n    useSynchronousEffect(function () {\n      var current = {\n        name: name,\n        state: {},\n        stylesCreator: stylesCreator,\n        stylesOptions: stylesOptions,\n        theme: theme\n      };\n      attach(current, props);\n      shouldUpdate.current = false;\n      instance.current = current;\n      return function () {\n        detach(current);\n      };\n    }, [theme, stylesCreator]);\n\n    _react.default.useEffect(function () {\n      if (shouldUpdate.current) {\n        update(instance.current, props);\n      }\n\n      shouldUpdate.current = true;\n    });\n\n    var classes = getClasses(instance.current, props.classes, Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      _react.default.useDebugValue(classes);\n    }\n\n    return classes;\n  };\n\n  return useStyles;\n}","map":{"version":3,"sources":["C:/Users/Blasus/Desktop/afpa/ecf/node_modules/@material-ui/styles/makeStyles/makeStyles.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","makeStyles","_objectWithoutProperties2","_extends2","_react","_jss","_mergeClasses","_multiKeyStore","_useTheme","_StylesProvider","_indexCounter","_getStylesCreator","_noopTheme","getClasses","_ref","classes","Component","state","stylesOptions","disableGeneration","cacheClasses","lastProp","lastJSS","generate","baseClasses","newClasses","attach","_ref2","props","theme","stylesCreator","name","sheetManager","get","sheetsManager","refs","staticSheet","dynamicStyles","set","options","flip","direction","generateId","serverGenerateClassName","generateClassName","sheetsRegistry","sheetsCache","styles","create","jss","createStyleSheet","link","add","getDynamicStyles","dynamicSheet","update","_ref3","detach","_ref4","delete","removeStyleSheet","remove","useSynchronousEffect","func","values","key","useRef","output","currentKey","useMemo","current","useEffect","stylesOrCreator","arguments","length","undefined","classNamePrefixOption","classNamePrefix","_options$defaultTheme","defaultTheme","stylesOptions2","index","increment","meta","useStyles","useContext","StylesContext","instance","shouldUpdate","process","env","NODE_ENV","useDebugValue"],"mappings":"AAAA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAAD,CAApC;;AAEAC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,UAAlB;;AAEA,IAAIC,yBAAyB,GAAGR,sBAAsB,CAACC,OAAO,CAAC,gDAAD,CAAR,CAAtD;;AAEA,IAAIQ,SAAS,GAAGT,sBAAsB,CAACC,OAAO,CAAC,gCAAD,CAAR,CAAtC;;AAEA,IAAIS,MAAM,GAAGV,sBAAsB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAIU,IAAI,GAAGV,OAAO,CAAC,KAAD,CAAlB;;AAEA,IAAIW,aAAa,GAAGZ,sBAAsB,CAACC,OAAO,CAAC,iBAAD,CAAR,CAA1C;;AAEA,IAAIY,cAAc,GAAGb,sBAAsB,CAACC,OAAO,CAAC,iBAAD,CAAR,CAA3C;;AAEA,IAAIa,SAAS,GAAGd,sBAAsB,CAACC,OAAO,CAAC,aAAD,CAAR,CAAtC;;AAEA,IAAIc,eAAe,GAAGd,OAAO,CAAC,mBAAD,CAA7B;;AAEA,IAAIe,aAAa,GAAGf,OAAO,CAAC,gBAAD,CAA3B;;AAEA,IAAIgB,iBAAiB,GAAGjB,sBAAsB,CAACC,OAAO,CAAC,qBAAD,CAAR,CAA9C;;AAEA,IAAIiB,UAAU,GAAGlB,sBAAsB,CAACC,OAAO,CAAC,+BAAD,CAAR,CAAvC;;AAEA,SAASkB,UAAT,CAAoBC,IAApB,EAA0BC,OAA1B,EAAmCC,SAAnC,EAA8C;AAC5C,MAAIC,KAAK,GAAGH,IAAI,CAACG,KAAjB;AAAA,MACIC,aAAa,GAAGJ,IAAI,CAACI,aADzB;;AAGA,MAAIA,aAAa,CAACC,iBAAlB,EAAqC;AACnC,WAAOJ,OAAO,IAAI,EAAlB;AACD;;AAED,MAAI,CAACE,KAAK,CAACG,YAAX,EAAyB;AACvBH,IAAAA,KAAK,CAACG,YAAN,GAAqB;AACnB;AACArB,MAAAA,KAAK,EAAE,IAFY;AAGnB;AACAsB,MAAAA,QAAQ,EAAE,IAJS;AAKnB;AACAC,MAAAA,OAAO,EAAE;AANU,KAArB;AAQD,GAjB2C,CAiB1C;AACF;;;AAGA,MAAIC,QAAQ,GAAG,KAAf;;AAEA,MAAIN,KAAK,CAACF,OAAN,KAAkBE,KAAK,CAACG,YAAN,CAAmBE,OAAzC,EAAkD;AAChDL,IAAAA,KAAK,CAACG,YAAN,CAAmBE,OAAnB,GAA6BL,KAAK,CAACF,OAAnC;AACAQ,IAAAA,QAAQ,GAAG,IAAX;AACD;;AAED,MAAIR,OAAO,KAAKE,KAAK,CAACG,YAAN,CAAmBC,QAAnC,EAA6C;AAC3CJ,IAAAA,KAAK,CAACG,YAAN,CAAmBC,QAAnB,GAA8BN,OAA9B;AACAQ,IAAAA,QAAQ,GAAG,IAAX;AACD;;AAED,MAAIA,QAAJ,EAAc;AACZN,IAAAA,KAAK,CAACG,YAAN,CAAmBrB,KAAnB,GAA2B,CAAC,GAAGO,aAAa,CAACN,OAAlB,EAA2B;AACpDwB,MAAAA,WAAW,EAAEP,KAAK,CAACG,YAAN,CAAmBE,OADoB;AAEpDG,MAAAA,UAAU,EAAEV,OAFwC;AAGpDC,MAAAA,SAAS,EAAEA;AAHyC,KAA3B,CAA3B;AAKD;;AAED,SAAOC,KAAK,CAACG,YAAN,CAAmBrB,KAA1B;AACD;;AAED,SAAS2B,MAAT,CAAgBC,KAAhB,EAAuBC,KAAvB,EAA8B;AAC5B,MAAIX,KAAK,GAAGU,KAAK,CAACV,KAAlB;AAAA,MACIY,KAAK,GAAGF,KAAK,CAACE,KADlB;AAAA,MAEIX,aAAa,GAAGS,KAAK,CAACT,aAF1B;AAAA,MAGIY,aAAa,GAAGH,KAAK,CAACG,aAH1B;AAAA,MAIIC,IAAI,GAAGJ,KAAK,CAACI,IAJjB;;AAMA,MAAIb,aAAa,CAACC,iBAAlB,EAAqC;AACnC;AACD;;AAED,MAAIa,YAAY,GAAGzB,cAAc,CAACP,OAAf,CAAuBiC,GAAvB,CAA2Bf,aAAa,CAACgB,aAAzC,EAAwDJ,aAAxD,EAAuED,KAAvE,CAAnB;;AAEA,MAAI,CAACG,YAAL,EAAmB;AACjBA,IAAAA,YAAY,GAAG;AACbG,MAAAA,IAAI,EAAE,CADO;AAEbC,MAAAA,WAAW,EAAE,IAFA;AAGbC,MAAAA,aAAa,EAAE;AAHF,KAAf;;AAMA9B,IAAAA,cAAc,CAACP,OAAf,CAAuBsC,GAAvB,CAA2BpB,aAAa,CAACgB,aAAzC,EAAwDJ,aAAxD,EAAuED,KAAvE,EAA8EG,YAA9E;AACD;;AAED,MAAIO,OAAO,GAAG,CAAC,GAAGpC,SAAS,CAACH,OAAd,EAAuB,EAAvB,EAA2B8B,aAAa,CAACS,OAAzC,EAAkDrB,aAAlD,EAAiE;AAC7EW,IAAAA,KAAK,EAAEA,KADsE;AAE7EW,IAAAA,IAAI,EAAE,OAAOtB,aAAa,CAACsB,IAArB,KAA8B,SAA9B,GAA0CtB,aAAa,CAACsB,IAAxD,GAA+DX,KAAK,CAACY,SAAN,KAAoB;AAFZ,GAAjE,CAAd;AAIAF,EAAAA,OAAO,CAACG,UAAR,GAAqBH,OAAO,CAACI,uBAAR,IAAmCJ,OAAO,CAACK,iBAAhE;AACA,MAAIC,cAAc,GAAG3B,aAAa,CAAC2B,cAAnC;;AAEA,MAAIb,YAAY,CAACG,IAAb,KAAsB,CAA1B,EAA6B;AAC3B,QAAIC,WAAJ;;AAEA,QAAIlB,aAAa,CAAC4B,WAAlB,EAA+B;AAC7BV,MAAAA,WAAW,GAAG7B,cAAc,CAACP,OAAf,CAAuBiC,GAAvB,CAA2Bf,aAAa,CAAC4B,WAAzC,EAAsDhB,aAAtD,EAAqED,KAArE,CAAd;AACD;;AAED,QAAIkB,MAAM,GAAGjB,aAAa,CAACkB,MAAd,CAAqBnB,KAArB,EAA4BE,IAA5B,CAAb;;AAEA,QAAI,CAACK,WAAL,EAAkB;AAChBA,MAAAA,WAAW,GAAGlB,aAAa,CAAC+B,GAAd,CAAkBC,gBAAlB,CAAmCH,MAAnC,EAA2C,CAAC,GAAG5C,SAAS,CAACH,OAAd,EAAuB;AAC9EmD,QAAAA,IAAI,EAAE;AADwE,OAAvB,EAEtDZ,OAFsD,CAA3C,CAAd;AAGAH,MAAAA,WAAW,CAACV,MAAZ;;AAEA,UAAIR,aAAa,CAAC4B,WAAlB,EAA+B;AAC7BvC,QAAAA,cAAc,CAACP,OAAf,CAAuBsC,GAAvB,CAA2BpB,aAAa,CAAC4B,WAAzC,EAAsDhB,aAAtD,EAAqED,KAArE,EAA4EO,WAA5E;AACD;AACF;;AAED,QAAIS,cAAJ,EAAoB;AAClBA,MAAAA,cAAc,CAACO,GAAf,CAAmBhB,WAAnB;AACD;;AAEDJ,IAAAA,YAAY,CAACI,WAAb,GAA2BA,WAA3B;AACAJ,IAAAA,YAAY,CAACK,aAAb,GAA6B,CAAC,GAAGhC,IAAI,CAACgD,gBAAT,EAA2BN,MAA3B,CAA7B;AACD;;AAED,MAAIf,YAAY,CAACK,aAAjB,EAAgC;AAC9B,QAAIiB,YAAY,GAAGpC,aAAa,CAAC+B,GAAd,CAAkBC,gBAAlB,CAAmClB,YAAY,CAACK,aAAhD,EAA+D,CAAC,GAAGlC,SAAS,CAACH,OAAd,EAAuB;AACvGmD,MAAAA,IAAI,EAAE;AADiG,KAAvB,EAE/EZ,OAF+E,CAA/D,CAAnB;AAGAe,IAAAA,YAAY,CAACC,MAAb,CAAoB3B,KAApB;AACA0B,IAAAA,YAAY,CAAC5B,MAAb;AACAT,IAAAA,KAAK,CAACqC,YAAN,GAAqBA,YAArB;AACArC,IAAAA,KAAK,CAACF,OAAN,GAAgB,CAAC,GAAGT,aAAa,CAACN,OAAlB,EAA2B;AACzCwB,MAAAA,WAAW,EAAEQ,YAAY,CAACI,WAAb,CAAyBrB,OADG;AAEzCU,MAAAA,UAAU,EAAE6B,YAAY,CAACvC;AAFgB,KAA3B,CAAhB;;AAKA,QAAI8B,cAAJ,EAAoB;AAClBA,MAAAA,cAAc,CAACO,GAAf,CAAmBE,YAAnB;AACD;AACF,GAfD,MAeO;AACLrC,IAAAA,KAAK,CAACF,OAAN,GAAgBiB,YAAY,CAACI,WAAb,CAAyBrB,OAAzC;AACD;;AAEDiB,EAAAA,YAAY,CAACG,IAAb,IAAqB,CAArB;AACD;;AAED,SAASoB,MAAT,CAAgBC,KAAhB,EAAuB5B,KAAvB,EAA8B;AAC5B,MAAIX,KAAK,GAAGuC,KAAK,CAACvC,KAAlB;;AAEA,MAAIA,KAAK,CAACqC,YAAV,EAAwB;AACtBrC,IAAAA,KAAK,CAACqC,YAAN,CAAmBC,MAAnB,CAA0B3B,KAA1B;AACD;AACF;;AAED,SAAS6B,MAAT,CAAgBC,KAAhB,EAAuB;AACrB,MAAIzC,KAAK,GAAGyC,KAAK,CAACzC,KAAlB;AAAA,MACIY,KAAK,GAAG6B,KAAK,CAAC7B,KADlB;AAAA,MAEIX,aAAa,GAAGwC,KAAK,CAACxC,aAF1B;AAAA,MAGIY,aAAa,GAAG4B,KAAK,CAAC5B,aAH1B;;AAKA,MAAIZ,aAAa,CAACC,iBAAlB,EAAqC;AACnC;AACD;;AAED,MAAIa,YAAY,GAAGzB,cAAc,CAACP,OAAf,CAAuBiC,GAAvB,CAA2Bf,aAAa,CAACgB,aAAzC,EAAwDJ,aAAxD,EAAuED,KAAvE,CAAnB;;AAEAG,EAAAA,YAAY,CAACG,IAAb,IAAqB,CAArB;AACA,MAAIU,cAAc,GAAG3B,aAAa,CAAC2B,cAAnC;;AAEA,MAAIb,YAAY,CAACG,IAAb,KAAsB,CAA1B,EAA6B;AAC3B5B,IAAAA,cAAc,CAACP,OAAf,CAAuB2D,MAAvB,CAA8BzC,aAAa,CAACgB,aAA5C,EAA2DJ,aAA3D,EAA0ED,KAA1E;;AAEAX,IAAAA,aAAa,CAAC+B,GAAd,CAAkBW,gBAAlB,CAAmC5B,YAAY,CAACI,WAAhD;;AAEA,QAAIS,cAAJ,EAAoB;AAClBA,MAAAA,cAAc,CAACgB,MAAf,CAAsB7B,YAAY,CAACI,WAAnC;AACD;AACF;;AAED,MAAInB,KAAK,CAACqC,YAAV,EAAwB;AACtBpC,IAAAA,aAAa,CAAC+B,GAAd,CAAkBW,gBAAlB,CAAmC3C,KAAK,CAACqC,YAAzC;;AAEA,QAAIT,cAAJ,EAAoB;AAClBA,MAAAA,cAAc,CAACgB,MAAf,CAAsB5C,KAAK,CAACqC,YAA5B;AACD;AACF;AACF;;AAED,SAASQ,oBAAT,CAA8BC,IAA9B,EAAoCC,MAApC,EAA4C;AAC1C,MAAIC,GAAG,GAAG7D,MAAM,CAACJ,OAAP,CAAekE,MAAf,CAAsB,EAAtB,CAAV;;AAEA,MAAIC,MAAJ,CAH0C,CAG9B;;AAEZ,MAAIC,UAAU,GAAGhE,MAAM,CAACJ,OAAP,CAAeqE,OAAf,CAAuB,YAAY;AAClD,WAAO,EAAP;AACD,GAFgB,EAEdL,MAFc,CAAjB,CAL0C,CAO9B;AACZ;;;AAGA,MAAIC,GAAG,CAACK,OAAJ,KAAgBF,UAApB,EAAgC;AAC9BH,IAAAA,GAAG,CAACK,OAAJ,GAAcF,UAAd;AACAD,IAAAA,MAAM,GAAGJ,IAAI,EAAb;AACD;;AAED3D,EAAAA,MAAM,CAACJ,OAAP,CAAeuE,SAAf,CAAyB,YAAY;AACnC,WAAO,YAAY;AACjB,UAAIJ,MAAJ,EAAY;AACVA,QAAAA,MAAM;AACP;AACF,KAJD;AAKD,GAND,EAMG,CAACC,UAAD,CANH,CAMgB;AANhB;AAQD;;AAED,SAASnE,UAAT,CAAoBuE,eAApB,EAAqC;AACnC,MAAIjC,OAAO,GAAGkC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;AACA,MAAI1C,IAAI,GAAGQ,OAAO,CAACR,IAAnB;AAAA,MACI6C,qBAAqB,GAAGrC,OAAO,CAACsC,eADpC;AAAA,MAEI7D,SAAS,GAAGuB,OAAO,CAACvB,SAFxB;AAAA,MAGI8D,qBAAqB,GAAGvC,OAAO,CAACwC,YAHpC;AAAA,MAIIA,YAAY,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmClE,UAAU,CAACZ,OAA9C,GAAwD8E,qBAJ3E;AAAA,MAKIE,cAAc,GAAG,CAAC,GAAG9E,yBAAyB,CAACF,OAA9B,EAAuCuC,OAAvC,EAAgD,CAAC,MAAD,EAAS,iBAAT,EAA4B,WAA5B,EAAyC,cAAzC,CAAhD,CALrB;AAMA,MAAIT,aAAa,GAAG,CAAC,GAAGnB,iBAAiB,CAACX,OAAtB,EAA+BwE,eAA/B,CAApB;AACA,MAAIK,eAAe,GAAG9C,IAAI,IAAI6C,qBAAR,IAAiC,YAAvD;AACA9C,EAAAA,aAAa,CAACS,OAAd,GAAwB;AACtB0C,IAAAA,KAAK,EAAE,CAAC,GAAGvE,aAAa,CAACwE,SAAlB,GADe;AAEtBnD,IAAAA,IAAI,EAAEA,IAFgB;AAGtBoD,IAAAA,IAAI,EAAEN,eAHgB;AAItBA,IAAAA,eAAe,EAAEA;AAJK,GAAxB;;AAOA,MAAIO,SAAS,GAAG,SAASA,SAAT,GAAqB;AACnC,QAAIxD,KAAK,GAAG6C,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAhF;AACA,QAAI5C,KAAK,GAAG,CAAC,GAAGrB,SAAS,CAACR,OAAd,OAA4B+E,YAAxC;AACA,QAAI7D,aAAa,GAAG,CAAC,GAAGf,SAAS,CAACH,OAAd,EAAuB,EAAvB,EAA2BI,MAAM,CAACJ,OAAP,CAAeqF,UAAf,CAA0B5E,eAAe,CAAC6E,aAA1C,CAA3B,EAAqFN,cAArF,CAApB;;AAEA,QAAIO,QAAQ,GAAGnF,MAAM,CAACJ,OAAP,CAAekE,MAAf,EAAf;;AAEA,QAAIsB,YAAY,GAAGpF,MAAM,CAACJ,OAAP,CAAekE,MAAf,EAAnB;;AAEAJ,IAAAA,oBAAoB,CAAC,YAAY;AAC/B,UAAIQ,OAAO,GAAG;AACZvC,QAAAA,IAAI,EAAEA,IADM;AAEZd,QAAAA,KAAK,EAAE,EAFK;AAGZa,QAAAA,aAAa,EAAEA,aAHH;AAIZZ,QAAAA,aAAa,EAAEA,aAJH;AAKZW,QAAAA,KAAK,EAAEA;AALK,OAAd;AAOAH,MAAAA,MAAM,CAAC4C,OAAD,EAAU1C,KAAV,CAAN;AACA4D,MAAAA,YAAY,CAAClB,OAAb,GAAuB,KAAvB;AACAiB,MAAAA,QAAQ,CAACjB,OAAT,GAAmBA,OAAnB;AACA,aAAO,YAAY;AACjBb,QAAAA,MAAM,CAACa,OAAD,CAAN;AACD,OAFD;AAGD,KAdmB,EAcjB,CAACzC,KAAD,EAAQC,aAAR,CAdiB,CAApB;;AAgBA1B,IAAAA,MAAM,CAACJ,OAAP,CAAeuE,SAAf,CAAyB,YAAY;AACnC,UAAIiB,YAAY,CAAClB,OAAjB,EAA0B;AACxBf,QAAAA,MAAM,CAACgC,QAAQ,CAACjB,OAAV,EAAmB1C,KAAnB,CAAN;AACD;;AAED4D,MAAAA,YAAY,CAAClB,OAAb,GAAuB,IAAvB;AACD,KAND;;AAQA,QAAIvD,OAAO,GAAGF,UAAU,CAAC0E,QAAQ,CAACjB,OAAV,EAAmB1C,KAAK,CAACb,OAAzB,EAAkCC,SAAlC,CAAxB;;AAEA,QAAIyE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC;AACAvF,MAAAA,MAAM,CAACJ,OAAP,CAAe4F,aAAf,CAA6B7E,OAA7B;AACD;;AAED,WAAOA,OAAP;AACD,GAzCD;;AA2CA,SAAOqE,SAAP;AACD","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeStyles;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _jss = require(\"jss\");\n\nvar _mergeClasses = _interopRequireDefault(require(\"../mergeClasses\"));\n\nvar _multiKeyStore = _interopRequireDefault(require(\"./multiKeyStore\"));\n\nvar _useTheme = _interopRequireDefault(require(\"../useTheme\"));\n\nvar _StylesProvider = require(\"../StylesProvider\");\n\nvar _indexCounter = require(\"./indexCounter\");\n\nvar _getStylesCreator = _interopRequireDefault(require(\"../getStylesCreator\"));\n\nvar _noopTheme = _interopRequireDefault(require(\"../getStylesCreator/noopTheme\"));\n\nfunction getClasses(_ref, classes, Component) {\n  var state = _ref.state,\n      stylesOptions = _ref.stylesOptions;\n\n  if (stylesOptions.disableGeneration) {\n    return classes || {};\n  }\n\n  if (!state.cacheClasses) {\n    state.cacheClasses = {\n      // Cache for the finalized classes value.\n      value: null,\n      // Cache for the last used classes prop pointer.\n      lastProp: null,\n      // Cache for the last used rendered classes pointer.\n      lastJSS: {}\n    };\n  } // Tracks if either the rendered classes or classes prop has changed,\n  // requiring the generation of a new finalized classes object.\n\n\n  var generate = false;\n\n  if (state.classes !== state.cacheClasses.lastJSS) {\n    state.cacheClasses.lastJSS = state.classes;\n    generate = true;\n  }\n\n  if (classes !== state.cacheClasses.lastProp) {\n    state.cacheClasses.lastProp = classes;\n    generate = true;\n  }\n\n  if (generate) {\n    state.cacheClasses.value = (0, _mergeClasses.default)({\n      baseClasses: state.cacheClasses.lastJSS,\n      newClasses: classes,\n      Component: Component\n    });\n  }\n\n  return state.cacheClasses.value;\n}\n\nfunction attach(_ref2, props) {\n  var state = _ref2.state,\n      theme = _ref2.theme,\n      stylesOptions = _ref2.stylesOptions,\n      stylesCreator = _ref2.stylesCreator,\n      name = _ref2.name;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = _multiKeyStore.default.get(stylesOptions.sheetsManager, stylesCreator, theme);\n\n  if (!sheetManager) {\n    sheetManager = {\n      refs: 0,\n      staticSheet: null,\n      dynamicStyles: null\n    };\n\n    _multiKeyStore.default.set(stylesOptions.sheetsManager, stylesCreator, theme, sheetManager);\n  }\n\n  var options = (0, _extends2.default)({}, stylesCreator.options, stylesOptions, {\n    theme: theme,\n    flip: typeof stylesOptions.flip === 'boolean' ? stylesOptions.flip : theme.direction === 'rtl'\n  });\n  options.generateId = options.serverGenerateClassName || options.generateClassName;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    var staticSheet;\n\n    if (stylesOptions.sheetsCache) {\n      staticSheet = _multiKeyStore.default.get(stylesOptions.sheetsCache, stylesCreator, theme);\n    }\n\n    var styles = stylesCreator.create(theme, name);\n\n    if (!staticSheet) {\n      staticSheet = stylesOptions.jss.createStyleSheet(styles, (0, _extends2.default)({\n        link: false\n      }, options));\n      staticSheet.attach();\n\n      if (stylesOptions.sheetsCache) {\n        _multiKeyStore.default.set(stylesOptions.sheetsCache, stylesCreator, theme, staticSheet);\n      }\n    }\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(staticSheet);\n    }\n\n    sheetManager.staticSheet = staticSheet;\n    sheetManager.dynamicStyles = (0, _jss.getDynamicStyles)(styles);\n  }\n\n  if (sheetManager.dynamicStyles) {\n    var dynamicSheet = stylesOptions.jss.createStyleSheet(sheetManager.dynamicStyles, (0, _extends2.default)({\n      link: true\n    }, options));\n    dynamicSheet.update(props);\n    dynamicSheet.attach();\n    state.dynamicSheet = dynamicSheet;\n    state.classes = (0, _mergeClasses.default)({\n      baseClasses: sheetManager.staticSheet.classes,\n      newClasses: dynamicSheet.classes\n    });\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(dynamicSheet);\n    }\n  } else {\n    state.classes = sheetManager.staticSheet.classes;\n  }\n\n  sheetManager.refs += 1;\n}\n\nfunction update(_ref3, props) {\n  var state = _ref3.state;\n\n  if (state.dynamicSheet) {\n    state.dynamicSheet.update(props);\n  }\n}\n\nfunction detach(_ref4) {\n  var state = _ref4.state,\n      theme = _ref4.theme,\n      stylesOptions = _ref4.stylesOptions,\n      stylesCreator = _ref4.stylesCreator;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = _multiKeyStore.default.get(stylesOptions.sheetsManager, stylesCreator, theme);\n\n  sheetManager.refs -= 1;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    _multiKeyStore.default.delete(stylesOptions.sheetsManager, stylesCreator, theme);\n\n    stylesOptions.jss.removeStyleSheet(sheetManager.staticSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(sheetManager.staticSheet);\n    }\n  }\n\n  if (state.dynamicSheet) {\n    stylesOptions.jss.removeStyleSheet(state.dynamicSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(state.dynamicSheet);\n    }\n  }\n}\n\nfunction useSynchronousEffect(func, values) {\n  var key = _react.default.useRef([]);\n\n  var output; // Store \"generation\" key. Just returns a new object every time\n\n  var currentKey = _react.default.useMemo(function () {\n    return {};\n  }, values); // eslint-disable-line react-hooks/exhaustive-deps\n  // \"the first render\", or \"memo dropped the value\"\n\n\n  if (key.current !== currentKey) {\n    key.current = currentKey;\n    output = func();\n  }\n\n  _react.default.useEffect(function () {\n    return function () {\n      if (output) {\n        output();\n      }\n    };\n  }, [currentKey] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n}\n\nfunction makeStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var name = options.name,\n      classNamePrefixOption = options.classNamePrefix,\n      Component = options.Component,\n      _options$defaultTheme = options.defaultTheme,\n      defaultTheme = _options$defaultTheme === void 0 ? _noopTheme.default : _options$defaultTheme,\n      stylesOptions2 = (0, _objectWithoutProperties2.default)(options, [\"name\", \"classNamePrefix\", \"Component\", \"defaultTheme\"]);\n  var stylesCreator = (0, _getStylesCreator.default)(stylesOrCreator);\n  var classNamePrefix = name || classNamePrefixOption || 'makeStyles';\n  stylesCreator.options = {\n    index: (0, _indexCounter.increment)(),\n    name: name,\n    meta: classNamePrefix,\n    classNamePrefix: classNamePrefix\n  };\n\n  var useStyles = function useStyles() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var theme = (0, _useTheme.default)() || defaultTheme;\n    var stylesOptions = (0, _extends2.default)({}, _react.default.useContext(_StylesProvider.StylesContext), stylesOptions2);\n\n    var instance = _react.default.useRef();\n\n    var shouldUpdate = _react.default.useRef();\n\n    useSynchronousEffect(function () {\n      var current = {\n        name: name,\n        state: {},\n        stylesCreator: stylesCreator,\n        stylesOptions: stylesOptions,\n        theme: theme\n      };\n      attach(current, props);\n      shouldUpdate.current = false;\n      instance.current = current;\n      return function () {\n        detach(current);\n      };\n    }, [theme, stylesCreator]);\n\n    _react.default.useEffect(function () {\n      if (shouldUpdate.current) {\n        update(instance.current, props);\n      }\n\n      shouldUpdate.current = true;\n    });\n\n    var classes = getClasses(instance.current, props.classes, Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      _react.default.useDebugValue(classes);\n    }\n\n    return classes;\n  };\n\n  return useStyles;\n}"]},"metadata":{},"sourceType":"script"}